<!DOCTYPE html>
<html>
<head>
    <title>Hearing Screening</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="css/materialize.min.css">
    <link rel="stylesheet" href="css/hearing-screening.css">

    <script type="text/javascript" src="js/lib/jquery-2.2.3.min.js"></script>
    <script type="text/javascript" src="js/lib/materialize.min.js"></script>
    <script type="text/javascript" src="js/lib/clipboard.min.js"></script>
    <script type="text/javascript" src="js/lib/md5.min.js"></script>
    <script type="text/javascript" src="js/src/stimuli.js"></script>
    <script type="text/javascript" src="js/src/hearing-screening.obf.js"></script>
</head>

<body>
<div class="row header">
    <div class="col s12">
        <div class="divider"></div>
    </div>
    <div class="col s12">
        <div class="left">
            <h5>Screening</h5>
            <h6 class="left"> </h6>
        </div>
    </div>
    <div class="col s12">
        <div class="divider bottom"></div>
    </div>
</div>

<div class="row prompt">
    <h4 class="center">Complete the Hearing Screening</h4>
    <h6 class="center">Before beginning the primary task, you must complete a quick hearing test to ensure you are listening over adequate speakers / headphones. Laptop speakers are not adequate.</h6>
</div>
<div class="row instructions">
    <p>Please follow these instructions:</p>
    <form class="col s12" id="hearing-test-form" name="hearing-test-form">
        <ol class="collection">
            <li class="collection-item">Find a quiet place with no background noise.</li>
            <li class="collection-item">If you have headphones, please put them on.</li>
            <li class="collection-item">Listen to the following audio file. While you are listening, adjust the level of your speakers/headphones to a comfortable volume.<span class="secondary-content"><audio controls preload="auto">Your browser does not support the audio element.<source src="audio/1000Hz.mp3" type="audio/mpeg" /></audio></span><br />Once it is set, do not change the volume.</li>
            <li class="collection-item">Listen to the <strong>entire</strong> audio file below and count how many tones you hear: <span id="audio1-container" class="secondary-content" ></span>
                <div  id="audiofile1-tone-count">
                    <p>How many tones did you hear?</p>
                    <p>
                        <input name="audiofile1-tone-count" value="1" type="radio" id="count1_1" />
                        <label for="count1_1">1</label>
                    </p>
                    <p>
                        <input name="audiofile1-tone-count" value="2" type="radio" id="count2_1" />
                        <label for="count2_1">2</label>
                    </p>
                    <p>
                        <input name="audiofile1-tone-count" value="3" type="radio" id="count3_1"  />
                        <label for="count3_1">3</label>
                    </p>
                    <p>
                        <input name="audiofile1-tone-count" value="4" type="radio" id="count4_1" />
                        <label for="count4_1">4</label>
                    </p>
                    <p>
                        <input name="audiofile1-tone-count" value="5" type="radio" id="count5_1" />
                        <label for="count5_1">5</label>
                    </p>
                    <p>
                        <input name="audiofile1-tone-count" value="6" type="radio" id="count6_1" />
                        <label for="count6_1">6</label>
                    </p>
                    <p>
                        <input name="audiofile1-tone-count" value="7" type="radio" id="count7_1" />
                        <label for="count7_1">7</label>
                    </p>
                    <p>
                        <input name="audiofile1-tone-count" value="8" type="radio" id="count8_1" />
                        <label for="count8_1">8</label>
                    </p>
                </div>
            </li>
            <li class="collection-item">Listen to the <strong>entire</strong> audio file below and count how many tones you hear: <span id="audio2-container" class="secondary-content"></span>
                <div id="audiofile2-tone-count">
                    <p>How many tones did you hear?</p>
                    <p>
                        <input name="audiofile2-tone-count" value="1" type="radio" id="count1_2" />
                        <label for="count1_2">1</label>
                    </p>
                    <p>
                        <input name="audiofile2-tone-count" value="2" type="radio" id="count2_2" />
                        <label for="count2_2">2</label>
                    </p>
                    <p>
                        <input name="audiofile2-tone-count" value="3" type="radio" id="count3_2"  />
                        <label for="count3_2">3</label>
                    </p>
                    <p>
                        <input name="audiofile2-tone-count" value="4" type="radio" id="count4_2" />
                        <label for="count4_2">4</label>
                    </p>
                    <p>
                        <input name="audiofile2-tone-count" value="5" type="radio" id="count5_2" />
                        <label for="count5_2">5</label>
                    </p>
                    <p>
                        <input name="audiofile2-tone-count" value="6" type="radio" id="count6_2" />
                        <label for="count6_2">6</label>
                    </p>
                    <p>
                        <input name="audiofile2-tone-count" value="7" type="radio" id="count7_2" />
                        <label for="count7_2">7</label>
                    </p>
                    <p>
                        <input name="audiofile2-tone-count" value="8" type="radio" id="count8_2" />
                        <label for="count8_2">8</label>
                    </p>
                </div>
            </li>
        </ol>
        <button class="btn mp3es-effect mp3es-light right" type="submit">Next</button>
    </form>
</div>
<!-- Modal Structure -->
<div id="completion-code-modal" class="modal">
    <div class="modal-content">
        <h4>Completion Code</h4>
        <p>Copy any paste this code into the dialog in the main task window:</p>
        <!-- Target -->
        <div class="input-field">
            <input id="completion-code" value="<none>" type="text">

            <!-- Trigger -->
            <button id="clip-btn" class="btn mp3es-effect mp3es-light" data-clipboard-target="#completion-code">Copy</button>
        </div>
    </div>
</div>

<!-- Modal Structure -->
<div id="completion-modal" class="modal">
    <div class="modal-content">
        <h4>Thanks!</h4>
        <p>Please return to the task.</p>
    </div>
</div>
<script>
    $(document).ready(function() {
        $('select').material_select();
        $("select[required]").css({display: "inline", height: 0, padding: 0, width: 0});

        $('.modal').modal({dismissible: false});

        var clipboard = new Clipboard('#clip-btn');

        function getParameterByName(name, url) {
            if (!url) {
                url = window.location.href;
            }
            name = name.replace(/[\[\]]/g, "\\$&");
            var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
                    results = regex.exec(url);
            if (!results) return null;
            if (!results[2]) return '';
            return decodeURIComponent(results[2].replace(/\+/g, " "));
        }

        var hearingScreening = new HearingScreening(getParameterByName('inputCode'), getParameterByName('dialog'));
        hearingScreening.initialize();
    });
</script>
</body>
</html>
